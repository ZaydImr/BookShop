{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\pluto\\\\Documents\\\\GitHub\\\\Bookshop Site\\\\src\\\\Components\\\\Admin\\\\AddBook.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport Progress from './Progress';\nimport { firestore } from '../../firebase/config';\nimport { FaMoneyBillWave, FaFileSignature, FaSortAmountUpAlt, FaFeatherAlt, FaBarcode, FaImage, FaLayerGroup } from 'react-icons/fa';\nimport { ImSpinner10 } from 'react-icons/im';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst AddBook = ({\n  setAdd\n}) => {\n  _s();\n\n  const types = ['image/png', 'image/jpeg'];\n  const [file, setFile] = useState(null);\n  const [url, setUrl] = useState('');\n  const [addClick, setAddClick] = useState(true);\n  const [err, setErr] = useState('');\n  const [data, setData] = useState({\n    ISBN: '',\n    Bookname: '',\n    Author: '',\n    Category: '',\n    Qte: '',\n    Price: '',\n    Description: '',\n    imgUrl: ''\n  });\n\n  const handleAdd = e => {\n    e.preventDefault();\n    const {\n      ISBN,\n      Bookname,\n      Author,\n      Category,\n      Qte,\n      Price,\n      Description,\n      imgUrl\n    } = data;\n\n    if (ISBN && Bookname && Author && Category && Qte && Price && Description && imgUrl) {\n      setAddClick(false);\n      let interval = setTimeout(() => {\n        firestore.collection(\"Book\").add(data).then(e.target.reset()).catch(err => setErr(err));\n        setAddClick(true);\n      }, 3000);\n      console.log(file, url, data);\n      return () => clearTimeout(interval);\n    } else {\n      setFile(null);\n      setErr('Please Fill Blanks');\n    }\n  };\n\n  const handleFile = e => {\n    let selected = e.target.files[0];\n\n    if (selected && types.includes(selected.type)) {\n      setFile(selected);\n      setErr('');\n    } else {\n      setFile(null);\n      setErr('Please select an image file (png or jpeg)');\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    className: \"admin-book-add\",\n    onSubmit: handleAdd,\n    children: [file && /*#__PURE__*/_jsxDEV(Progress, {\n      file: file,\n      setFile: setFile,\n      setUrl: setUrl,\n      data: data,\n      setData: setData\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 34\n    }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n      style: {\n        fontSize: '1.25rem',\n        margin: '1.5rem'\n      },\n      children: \"Add book\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 25\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"admin-frm-cont\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"admin-frm-input\",\n        children: [/*#__PURE__*/_jsxDEV(FaBarcode, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 37\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Enter ISBN\",\n          value: data.ISBN,\n          onChange: e => setData({ ...data,\n            ISBN: e.target.value\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 37\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 31\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"admin-frm-input\",\n        children: [/*#__PURE__*/_jsxDEV(FaFileSignature, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 37\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Enter Bookname\",\n          value: data.Bookname,\n          onChange: e => setData({ ...data,\n            Bookname: e.target.value\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 37\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 31\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"admin-frm-input\",\n        children: [/*#__PURE__*/_jsxDEV(FaFeatherAlt, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 37\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Enter Author\",\n          value: data.Author,\n          onChange: e => setData({ ...data,\n            Author: e.target.value\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 37\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 31\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"admin-frm-input\",\n        children: [/*#__PURE__*/_jsxDEV(FaSortAmountUpAlt, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 37\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Enter Category\",\n          value: data.Category,\n          onChange: e => setData({ ...data,\n            Category: e.target.value\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 37\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 31\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"admin-frm-input\",\n        children: [/*#__PURE__*/_jsxDEV(FaLayerGroup, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 37\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Enter quantity\",\n          value: data.Qte,\n          onChange: e => setData({ ...data,\n            Qte: e.target.value\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 37\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 31\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"admin-frm-input\",\n        children: [/*#__PURE__*/_jsxDEV(FaMoneyBillWave, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 37\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Enter Price\",\n          value: data.Price,\n          onChange: e => setData({ ...data,\n            Price: e.target.value\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 37\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 31\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          alignItems: 'center',\n          display: 'flex',\n          position: 'relative'\n        },\n        children: [/*#__PURE__*/_jsxDEV(FaImage, {\n          style: {\n            left: '15px'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 37\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          style: {\n            width: '90%',\n            margin: 'auto',\n            paddingLeft: '40px'\n          },\n          type: \"file\",\n          accept: \"image/png, image/jpeg\",\n          onChange: handleFile\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 37\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 31\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        placeholder: \"Enter description\",\n        value: data.Description,\n        onChange: e => setData({ ...data,\n          Description: e.target.value\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 31\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 25\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"admin-frm-btn\",\n      children: [err && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            display: 'inline-block',\n            color: 'red',\n            fontSize: 14,\n            margin: 5\n          },\n          children: err\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 42\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 126\n        }, this)]\n      }, void 0, true), addClick ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"submit\",\n          value: \"Add\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 44\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"reset\",\n          value: \"Reset\",\n          onClick: () => setErr('')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 31\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"button\",\n          value: \"Cancel\",\n          onClick: () => setAdd(false)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 31\n        }, this)]\n      }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: /*#__PURE__*/_jsxDEV(ImSpinner10, {\n          className: \"rotate\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 39\n        }, this)\n      }, void 0, false)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 25\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 13\n  }, this);\n};\n\n_s(AddBook, \"Qj6WZ7P8EYeHRiRxzib+UZHoMcI=\");\n\n_c = AddBook;\nexport default AddBook;\n\nvar _c;\n\n$RefreshReg$(_c, \"AddBook\");","map":{"version":3,"sources":["C:/Users/pluto/Documents/GitHub/Bookshop Site/src/Components/Admin/AddBook.jsx"],"names":["React","useEffect","useState","Progress","firestore","FaMoneyBillWave","FaFileSignature","FaSortAmountUpAlt","FaFeatherAlt","FaBarcode","FaImage","FaLayerGroup","ImSpinner10","AddBook","setAdd","types","file","setFile","url","setUrl","addClick","setAddClick","err","setErr","data","setData","ISBN","Bookname","Author","Category","Qte","Price","Description","imgUrl","handleAdd","e","preventDefault","interval","setTimeout","collection","add","then","target","reset","catch","console","log","clearTimeout","handleFile","selected","files","includes","type","fontSize","margin","value","alignItems","display","position","left","width","paddingLeft","color"],"mappings":"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","sourcesContent":["import React, {useEffect,useState} from 'react'\r\nimport Progress from './Progress';\r\nimport {firestore} from '../../firebase/config'\r\nimport { FaMoneyBillWave,FaFileSignature,FaSortAmountUpAlt,FaFeatherAlt,FaBarcode, FaImage,FaLayerGroup } from 'react-icons/fa'\r\nimport {ImSpinner10} from 'react-icons/im'\r\n\r\nconst AddBook = ({setAdd}) => {\r\n      const types = ['image/png','image/jpeg'];\r\n      const [file,setFile] =  useState(null);\r\n      const [url,setUrl]= useState('');\r\n      const [addClick,setAddClick] = useState(true);\r\n      const [err,setErr] = useState('');\r\n      const [data,setData] = useState({\r\n            ISBN: '',\r\n            Bookname : '',\r\n            Author: '',\r\n            Category:'',\r\n            Qte:'',\r\n            Price: '',\r\n            Description:'',\r\n            imgUrl:''\r\n      })\r\n\r\n      const handleAdd = (e)=>{\r\n            e.preventDefault();\r\n            const {ISBN,Bookname,Author,Category,Qte,Price,Description,imgUrl} = data;\r\n            if(ISBN && Bookname && Author && Category && Qte && Price && Description && imgUrl){\r\n            setAddClick(false);\r\n            \r\n            let interval = setTimeout(()=>{\r\n                  firestore.collection(\"Book\").add(data).then(e.target.reset()).catch((err)=>setErr(err));\r\n                  setAddClick(true);\r\n            },3000);\r\n            console.log(file,url,data);\r\n            return () => clearTimeout(interval);}\r\n            else{\r\n                  setFile(null);\r\n                  setErr('Please Fill Blanks')\r\n            }\r\n      }\r\n\r\n      const handleFile = (e) =>{\r\n            let selected = e.target.files[0];\r\n\r\n            if(selected && types.includes(selected.type)){\r\n                  setFile(selected);\r\n                  setErr('');\r\n            }else{\r\n                  setFile(null);\r\n                  setErr('Please select an image file (png or jpeg)')\r\n            }\r\n      }\r\n      return (\r\n            <form className='admin-book-add' onSubmit={handleAdd}>\r\n                        {file && <Progress file={file} setFile={setFile} setUrl={setUrl} data={data} setData={setData}/>}\r\n                        <h4 style={{fontSize:'1.25rem',margin: '1.5rem'}}>Add book</h4>\r\n                        <div className='admin-frm-cont'>\r\n                              <div className='admin-frm-input'>\r\n                                    <FaBarcode/>\r\n                                    <input type=\"text\" placeholder='Enter ISBN' value={data.ISBN} onChange={(e)=>setData({...data, ISBN:e.target.value})}/>\r\n                              </div>\r\n                              <div className='admin-frm-input'>\r\n                                    <FaFileSignature/>\r\n                                    <input type=\"text\" placeholder='Enter Bookname' value={data.Bookname} onChange={(e)=>setData({...data, Bookname:e.target.value})}/>\r\n                              </div>\r\n                              <div className='admin-frm-input'>\r\n                                    <FaFeatherAlt/>\r\n                                    <input type=\"text\" placeholder='Enter Author' value={data.Author} onChange={(e)=>setData({...data, Author:e.target.value})}/>\r\n                              </div>\r\n                              <div className='admin-frm-input'>\r\n                                    <FaSortAmountUpAlt/>\r\n                                    <input type=\"text\" placeholder='Enter Category' value={data.Category} onChange={(e)=>setData({...data, Category:e.target.value})}/>\r\n                              </div>\r\n                              <div className='admin-frm-input'>\r\n                                    <FaLayerGroup/>\r\n                                    <input type=\"text\" placeholder='Enter quantity' value={data.Qte} onChange={(e)=>setData({...data, Qte:e.target.value})}/>\r\n                              </div>\r\n                              <div className='admin-frm-input'>\r\n                                    <FaMoneyBillWave/>\r\n                                    <input type=\"text\" placeholder='Enter Price' value={data.Price} onChange={(e)=>setData({...data, Price:e.target.value})}/>\r\n                              </div>\r\n                              <div style={{alignItems:'center',display:'flex',position:'relative'}}>\r\n                                    <FaImage style={{left:'15px'}}/>\r\n                                    <input style={{width:'90%',margin:'auto',paddingLeft:'40px'}} type=\"file\" accept=\"image/png, image/jpeg\" onChange={handleFile}/>\r\n                              </div> \r\n                              <textarea placeholder='Enter description' value={data.Description} onChange={(e)=>setData({...data, Description:e.target.value})}>\r\n\r\n                              </textarea>\r\n                              \r\n                        </div>\r\n                        <div className='admin-frm-btn'>\r\n                              {err && (<><span style={{display:'inline-block',color:'red',fontSize:14,margin:5}}>{err}</span><br/></>)}\r\n                              {addClick?(<><input type=\"submit\" value=\"Add\"/>\r\n                              <input type=\"reset\" value=\"Reset\" onClick={()=>setErr('')}/>\r\n                              <input type=\"button\" value=\"Cancel\" onClick={()=>setAdd(false)}/></>):(\r\n                                    <><ImSpinner10 className='rotate'/></>\r\n                              )}\r\n                              \r\n                        </div>\r\n                  </form>\r\n      )\r\n}\r\n\r\nexport default AddBook\r\n"]},"metadata":{},"sourceType":"module"}