{"ast":null,"code":"import _slicedToArray from\"C:/Users/pluto/Documents/GitHub/Bookshop Site/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{Link}from'react-router-dom';import{FaUserAlt,FaLock,FaEnvelope}from'react-icons/fa';import{RiArrowGoBackFill}from'react-icons/ri';import fire from'../firebase/config';import Admin from'./Admin';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Login=function Login(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),email=_useState4[0],setEmail=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),pass=_useState6[0],setPass=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),err=_useState8[0],setErr=_useState8[1];var _useState9=useState(''),_useState10=_slicedToArray(_useState9,2),val=_useState10[0],setVal=_useState10[1];var _useState11=useState(''),_useState12=_slicedToArray(_useState11,2),forgetEmail=_useState12[0],setForgetEmail=_useState12[1];var _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),forget=_useState14[0],setForget=_useState14[1];var handleLogin=function handleLogin(){setErr('');fire.auth().signInWithEmailAndPassword(email,pass).catch(function(err){setErr(err.message);});};var handleForget=function handleForget(){setErr('');setVal('');fire.auth().sendPasswordResetEmail(forgetEmail).then(function(){setVal('Check your inbox for further instructions');}).catch(function(err){setErr(err.message);});};useEffect(function(){fire.auth().onAuthStateChanged(function(user){if(user){setEmail('');setPass('');setUser(user);}else{setUser('');}});},[]);return/*#__PURE__*/_jsx(_Fragment,{children:user?/*#__PURE__*/_jsx(Admin,{}):/*#__PURE__*/_jsx(\"div\",{className:\"align\",children:/*#__PURE__*/_jsx(\"div\",{className:\"grid\",children:/*#__PURE__*/_jsx(\"form\",{className:\"form\",children:forget?/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"form_field\",children:/*#__PURE__*/_jsx(\"h3\",{style:{margin:'1rem auto'},children:\"Password Reset\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"form_field\",children:val!==''&&/*#__PURE__*/_jsx(\"span\",{style:{width:'100%',color:'rgb(3 135 3)',padding:'1rem',borderRadius:'0.25rem',fontSize:'1rem',background:'rgb(204 254 203)',fontWeight:'600'},children:val})}),/*#__PURE__*/_jsxs(\"div\",{className:\"form_field\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"forget\",children:/*#__PURE__*/_jsx(FaEnvelope,{className:\"icon\"})}),/*#__PURE__*/_jsx(\"input\",{id:\"forget\",value:forgetEmail,onChange:function onChange(e){setForgetEmail(e.target.value);},type:\"email\",className:\"login_field login_input\",placeholder:\"Email\",required:true})]}),/*#__PURE__*/_jsx(\"div\",{className:\"form_field\",children:/*#__PURE__*/_jsx(\"span\",{style:{color:'#ff3d3d'},children:err})}),/*#__PURE__*/_jsx(\"div\",{className:\"form_field\",children:/*#__PURE__*/_jsx(\"input\",{onClick:handleForget,className:\"login_btn login_field\",type:\"button\",value:\"Send mail\",style:{fontFamily:'Whitney bold',fontStyle:'italic'}})}),/*#__PURE__*/_jsx(\"div\",{className:\"form_field\",children:/*#__PURE__*/_jsx(\"h4\",{style:{cursor:\"pointer\",margin:'auto'},onClick:function onClick(){setForget(false);setVal('');setErr('');},children:\"Login\"})})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form_field\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"user\",children:/*#__PURE__*/_jsx(FaUserAlt,{className:\"icon\"})}),/*#__PURE__*/_jsx(\"input\",{id:\"user\",value:email,onChange:function onChange(e){setEmail(e.target.value);},type:\"email\",className:\"login_field login_input\",placeholder:\"Email\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form_field\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"pass\",children:/*#__PURE__*/_jsx(FaLock,{className:\"icon\"})}),/*#__PURE__*/_jsx(\"input\",{id:\"pass\",value:pass,onChange:function onChange(e){setPass(e.target.value);},type:\"password\",className:\"login_field login_input\",placeholder:\"Password\",required:true})]}),/*#__PURE__*/_jsx(\"div\",{className:\"form_field\",children:/*#__PURE__*/_jsx(\"span\",{style:{color:'#ff3d3d'},children:err})}),/*#__PURE__*/_jsx(\"div\",{className:\"form_field\",children:/*#__PURE__*/_jsx(\"input\",{onClick:handleLogin,className:\"login_btn login_field\",type:\"button\",value:\"Sign In\",style:{fontFamily:'Whitney bold',fontStyle:'italic'}})}),/*#__PURE__*/_jsxs(\"div\",{className:\"form_field\",style:{display:\"block\",textAlign:\"center\"},children:[/*#__PURE__*/_jsx(\"p\",{className:\"text--center\",style:{float:\"left\",cursor:\"pointer\"},onClick:function onClick(){setForget(true);setErr('');},children:\"Forget password ?\"}),/*#__PURE__*/_jsxs(Link,{to:\"/\",style:{float:'right',color:'#3d7eff'},children:[\"Go back \",/*#__PURE__*/_jsx(RiArrowGoBackFill,{className:\"icon\"})]})]})]})})})})});};export default Login;","map":{"version":3,"sources":["C:/Users/pluto/Documents/GitHub/Bookshop Site/src/Components/Login.jsx"],"names":["React","useState","useEffect","Link","FaUserAlt","FaLock","FaEnvelope","RiArrowGoBackFill","fire","Admin","Login","user","setUser","email","setEmail","pass","setPass","err","setErr","val","setVal","forgetEmail","setForgetEmail","forget","setForget","handleLogin","auth","signInWithEmailAndPassword","catch","message","handleForget","sendPasswordResetEmail","then","onAuthStateChanged","margin","width","color","padding","borderRadius","fontSize","background","fontWeight","e","target","value","fontFamily","fontStyle","cursor","display","textAlign","float"],"mappings":"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","sourcesContent":["import React, {useState,useEffect} from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport {FaUserAlt,FaLock,FaEnvelope} from 'react-icons/fa';\r\nimport {RiArrowGoBackFill} from 'react-icons/ri'\r\nimport fire  from '../firebase/config';\r\nimport Admin from './Admin'\r\n\r\nconst Login = () =>{\r\n      const [user,setUser] = useState('');\r\n      const [email,setEmail] = useState('');\r\n      const [pass,setPass] = useState('');\r\n      const [err,setErr] = useState('');\r\n      const [val,setVal] = useState('');\r\n      const [forgetEmail,setForgetEmail] = useState('');\r\n      const [forget,setForget] = useState(false);\r\n\r\n      const handleLogin = () =>{\r\n            setErr('');\r\n            fire\r\n                  .auth()\r\n                  .signInWithEmailAndPassword(email,pass)\r\n                  .catch((err)=>{\r\n                        setErr(err.message);\r\n                  })\r\n      }\r\n\r\n      const handleForget = ()=>{\r\n            setErr('');\r\n            setVal('');\r\n            fire.auth().sendPasswordResetEmail(forgetEmail).then(()=>{\r\n                  setVal('Check your inbox for further instructions')\r\n            }).catch((err)=>{\r\n                  setErr(err.message);\r\n            })\r\n      }\r\n\r\n      useEffect(() =>{\r\n            fire.auth().onAuthStateChanged((user)=>{\r\n                  if(user){\r\n                        setEmail('');\r\n                        setPass('');\r\n                        setUser(user);\r\n                        \r\n                  }\r\n                  else{\r\n                        setUser('');\r\n                  }\r\n                  \r\n            });\r\n      },[]);\r\n\r\n      return(\r\n            <>\r\n            {user ? ( <Admin />) : (\r\n            <div className=\"align\">\r\n                  <div className=\"grid\">\r\n                        <form className=\"form\">\r\n                        {forget ? (<React.Fragment>\r\n                              <div className=\"form_field\">\r\n                                    <h3 style={{margin: '1rem auto'}}>Password Reset</h3>\r\n                              </div>\r\n                              <div className='form_field'>\r\n                                    {val !== '' && <span style={{width: '100%',color: 'rgb(3 135 3)',padding: '1rem',borderRadius: '0.25rem',fontSize: '1rem',background: 'rgb(204 254 203)',fontWeight:'600'}}>{val}</span>}\r\n                              </div>\r\n                              <div className=\"form_field\">\r\n                                    <label htmlFor=\"forget\"><FaEnvelope className=\"icon\"></FaEnvelope></label>\r\n                                    <input id='forget' value={forgetEmail} onChange={(e)=>{setForgetEmail(e.target.value)}} type=\"email\" className=\"login_field login_input\" placeholder=\"Email\" required/>\r\n                              </div>\r\n\r\n                              <div className='form_field'>\r\n                                    <span style={{color:'#ff3d3d'}}>{err}</span>\r\n                              </div>\r\n                              \r\n                              <div className=\"form_field\">\r\n                                    <input onClick={handleForget} className=\"login_btn login_field\" type=\"button\" value=\"Send mail\" style={{fontFamily: 'Whitney bold',fontStyle: 'italic'}}/>\r\n                              </div>\r\n                              <div className='form_field'>\r\n                                    <h4 style={{cursor:\"pointer\",margin:'auto'}} onClick={()=>{setForget(false);setVal('');setErr('')}}>Login</h4>\r\n                              </div>\r\n                        </React.Fragment>) : (<><div className=\"form_field\">\r\n                              <label htmlFor=\"user\"><FaUserAlt className=\"icon\"></FaUserAlt></label>\r\n                              <input id=\"user\" value={email} onChange={(e)=>{setEmail(e.target.value)}} type=\"email\" className=\"login_field login_input\" placeholder=\"Email\" required/>\r\n                              </div>\r\n\r\n                              <div className=\"form_field\">\r\n                              <label htmlFor=\"pass\"><FaLock className=\"icon\"></FaLock></label>\r\n                              <input id='pass' value={pass} onChange={(e)=>{setPass(e.target.value)}} type=\"password\" className=\"login_field login_input\" placeholder=\"Password\" required/>\r\n                              </div>\r\n\r\n                              <div className='form_field'>\r\n                                    <span style={{color:'#ff3d3d'}}>{err}</span>\r\n                              </div>\r\n                              \r\n                              <div className=\"form_field\">\r\n                              <input onClick={handleLogin} className=\"login_btn login_field\" type=\"button\" value=\"Sign In\" style={{fontFamily: 'Whitney bold',fontStyle: 'italic'}}/>\r\n                              </div>\r\n                              <div className=\"form_field\" style={{    display: \"block\",textAlign: \"center\"}}>\r\n                                    <p className=\"text--center\" style={{float: \"left\",cursor:\"pointer\"}} onClick={()=>{setForget(true);setErr('')}}>Forget password ?</p>\r\n                                    <Link to=\"/\" style={{float: 'right',color:'#3d7eff'}}>Go back <RiArrowGoBackFill className=\"icon\"></RiArrowGoBackFill></Link>\r\n\r\n                              </div></>)}\r\n                        </form>\r\n                  </div>\r\n            </div>)}\r\n      </>\r\n)\r\n}\r\n\r\nexport default Login;"]},"metadata":{},"sourceType":"module"}